# Scalaå˜é‡å’Œè¿ç®—ç¬¦

## Scalaçš„å˜é‡

å˜é‡æ˜¯ç¨‹åºçš„åŸºæœ¬ç»„æˆå•ä½ã€‚

### å˜é‡çš„ä½¿ç”¨

```scala
var|val å˜é‡å:å˜é‡ç±»åž‹=åˆå§‹å€¼
```

var ä¿®é¥°çš„å˜é‡æ˜¯å¯ä»¥ä¿®æ”¹çš„ï¼Œè€Œvalä¿®é¥°çš„å˜é‡æ˜¯ä¸å¯ä¿®æ”¹çš„ï¼Œç›¸å½“äºŽJavaä¸­çš„finalä¿®é¥°ç¬¦ã€‚

### å˜é‡çš„æ³¨æ„äº‹é¡¹

å˜é‡ç±»åž‹å¯ä¸å†™ï¼Œç¼–è¯‘å™¨è‡ªè¡ŒæŽ¨å¯¼ï¼Œå³ç±»åž‹æŽ¨å¯¼ï¼ŒIDEAç¼–è¾‘å™¨ä¹Ÿå¯æç¤ºï¼Œæˆ–è€…**isInstanceOf[Int]**ï¼Œç±»åž‹ç¡®å®šå°±ä¸èƒ½ä¿®æ”¹ï¼ŒScalaæ˜¯å¼ºæ•°æ®åž‹è¯­è¨€ã€‚

### æ•°æ®ç±»åž‹

Scala ä¸Ž Javaæœ‰ç€ç›¸åŒçš„æ•°æ®ç±»åž‹ï¼Œä½†æ˜¯Scalaçš„æ•°æ®ç±»åž‹**éƒ½æ˜¯å¯¹è±¡**ï¼Œæ•°æ®ç±»åž‹åˆ†ä¸ºä¸¤å¤§ç±»ï¼š**AnyVal**å’Œ**AnyRef**

ä¸‹è¡¨åˆ—å‡ºäº† Scala æ”¯æŒçš„æ•°æ®ç±»åž‹ï¼š

| **æ•°æ®ç±»åž‹** | **æè¿°**                                 | æ•°æ®ç±»åž‹ | æè¿°               |
| :----------- | ---------------------------------------- | -------- | ------------------ |
| Byte         | 8ä½æœ‰ç¬¦å·è¡¥ç æ•´æ•°                        | Short    | 16ä½æœ‰ç¬¦å·è¡¥ç æ•´æ•° |
| Int          | 32ä½æœ‰ç¬¦å·è¡¥ç æ•´æ•°                       | Long     | 64ä½æœ‰ç¬¦å·è¡¥ç æ•´æ•° |
| Float        | 32 ä½                                    | Double   | 64 ä½              |
| Char         | 16ä½æ— ç¬¦å·Unicodeå­—ç¬¦                    | String   |                    |
| Boolean      | trueæˆ–false                              |          |                    |
| Unit         | è¡¨ç¤ºæ— å€¼                                 | Null     | null æˆ–ç©ºå¼•ç”¨      |
| Nothing      | å®ƒæ˜¯ä»»ä½•å…¶ä»–ç±»åž‹çš„å­ç±»åž‹                 | Any      | å…¶ä»–ç±»çš„è¶…ç±»       |
| AnyRef       | Scalaé‡Œæ‰€æœ‰å¼•ç”¨ç±»(reference class)çš„åŸºç±» |          |                    |

![æ•°æ®ç±»åž‹](assets/20190402192632.png)

- åœ¨Scalaä¸­ï¼ŒAnyæ˜¯ä¸€åˆ‡ç±»çš„çˆ¶ç±»
- åœ¨Scalaä¸­ï¼ŒNothingæ˜¯ä¸€åˆ‡ç±»çš„å­ç±»
- åœ¨Scalaä¸­ï¼ŒNullæ˜¯nullï¼Œåªæœ‰ä¸€ä¸ªå€¼nullï¼Œæ˜¯AnyRefçš„å­ç±»

### ç±»åž‹è¯´æ˜Ž

å…¶ä»–çš„ç±»åž‹å’ŒJavaæ˜¯ä¸€æ ·çš„ï¼Œè¿™é‡Œå°±ä¸å†è¯´æ˜Žäº†ã€‚

#### Charè¯´æ˜Ž

charèµ‹å€¼æ•´åž‹æ•°å­—ï¼Œè¾“å‡ºå¯¹åº”çš„unicodeç¼–ç ï¼ŒåŒ…å«äº†ASCIIç ã€‚

```scala
def main(args: Array[String]): Unit = {
    var char1:Char=97
    println(char1)
  }
```

1. æŠŠä¸€ä¸ªè®¡ç®—çš„å€¼èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ï¼Œç¼–è¯‘å™¨ä¼šè¿›è¡Œç±»åž‹è½¬æ¢å’ŒèŒƒå›´åˆ¤æ–­
2. æŠŠå¸¸é‡å€¼èµ‹å€¼ç»™å˜é‡ï¼Œç¼–è¯‘å™¨åªåˆ¤æ–­èŒƒå›´ï¼Œæ‰€ä»¥Charåªèƒ½æŽ¥æ”¶intçš„å¸¸é‡å€¼ã€‚

```scala
  def main(args: Array[String]): Unit = {
    var char1:Char=97//æ­£å¸¸
    var char2:Char='a'+1//æŠ¥é”™
    var char3:Char=98+1//æŠ¥é”™
  }
```

#### è‡ªåŠ¨ç±»åž‹è½¬æ¢

Scalaè¿›è¡Œè¿ç®—å’Œèµ‹å€¼æ—¶å€™ï¼Œç²¾åº¦å°çš„ç±»åž‹è‡ªåŠ¨è½¬æ¢æˆç²¾åº¦å¤§çš„ç±»åž‹ã€‚

å®¹é‡æŽ’åºï¼š

![](assets/20190320192444.png)

#### å¼ºåˆ¶ç±»åž‹è½¬æ¢

å°†ç²¾åº¦é«˜çš„è½¬ä¸ºç²¾åº¦å°çš„ç±»åž‹ï¼Œä½¿ç”¨å¼ºåˆ¶è½¬æ¢å‡½æ•°ï¼Œ**ä½†æ˜¯ä¼šé€ æˆç²¾åº¦é™ä½Žå’Œæº¢å‡º**ã€‚

#### å€¼ç±»åž‹å’ŒStringçš„è½¬æ¢

##### åŸºæœ¬ç±»åž‹è½¬String

åŸºæœ¬ç±»åž‹+â€œâ€å³å¯å®Œæˆè½¬æ¢

```scala
var i:Int=1
println(i+"")
```

##### Stringè½¬åŸºæœ¬ç±»åž‹

é€šè¿‡String.toXXå³å¯ï¼Œä½†æ˜¯è¦ç¡®ä¿å­—ç¬¦ä¸²æ˜¯æ•°å­—ä¸”èƒ½é¢„æœŸè½¬æˆå¯¹åº”çš„ç±»åž‹ã€‚

```scala
val str1:String="12"
str1.toInt  //ok
val str2:String="12.5"
str2.toInt  //error
str2.toDouble //ok
```

### æ ‡è¯†ç¬¦

```scala
var ++ :String='hello' //ok
var _q:String="helllo"//error 
//æ“ä½œç¬¦è¦ä½œä¸ºæ ‡è¯†ç¬¦å¿…é¡»åŽç»­ä¹Ÿè·Ÿä¸Šæ“ä½œç¬¦
```

å…³é”®è¯ä¹Ÿèƒ½ä½œä¸ºå˜é‡å€¼ï¼Œä½†æ˜¯å¿…é¡»åŠ ä¸Š``

```scala
var `true`:String="12"//ok
```

Intï¼ŒFloat ä¸æ˜¯ä¿ç•™å­—ï¼Œè€Œæ˜¯é¢„å®šä¹‰æ ‡è¯†ç¬¦ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå˜é‡åï¼Œä½†æ˜¯ä¸æŽ¨è

```scala
var Int:Int=12
```

_ä¸èƒ½å•ç‹¬ä½¿ç”¨

## Scalaçš„è¿ç®—ç¬¦

å’ŒJavaå¾ˆå¤§ç¨‹åº¦æ˜¯ä¸€æ ·çš„ï¼Œç‰¹æ®Šç‚¹ï¼š

1. `num+=1`æ›¿ä»£`num++`ï¼›`num-=1`æ›¿ä»£`numâ€“-`

ðŸ“2. å–æ¶ˆäº†ä¸‰ç›®è¿ç®—ç¬¦ï¼ŒScalaæ”¹ä¸ºäº†`if else`

```scala
var res:Int=if(5>4) 5 else 4
```
