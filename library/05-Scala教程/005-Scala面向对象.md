# Scalaé¢å‘å¯¹è±¡

## åŸºç¡€ç¯‡

### ç±»ä¸å¯¹è±¡

æ­¤æè¿°å’ŒJavaä¸­æ˜¯ä¸€æ ·çš„ï¼Œè¦å†æ¬¡æŒ‡å‡ºScalaè¯­è¨€æ˜¯çº¯ç²¹çš„é¢å‘å¯¹è±¡çš„ï¼Œåœ¨Scalaä¸­ä¸€åˆ‡çš†å¯¹è±¡ã€‚

#### ç±»çš„å®šä¹‰

æ³¨æ„äº‹é¡¹ï¼šScalaä¸­ç±»ä¸éœ€è¦å£°æ˜ä¸ºpublicï¼Œé»˜è®¤ä¸ºpublicï¼Œä¸€ä¸ªæ–‡ä»¶ä¸­å¯ä»¥æœ‰å¤šä¸ªç±»ã€‚

```scala
class Xxx{
    
}
// ä½¿ç”¨
val|var xx:ç±»å‹=new ç±»å‹()
val|var xx:Xxx=new Xxx()
// å¯ä»¥çœç•¥ç±»å‹ï¼Œä½†æ˜¯å¤šæ€é€‚åˆéœ€è¦æŒ‡æ˜ã€‚æŠŠå­ç±»èµ‹å€¼ç»™çˆ¶ç±»å¯¹è±¡ã€‚
```

#### å¯¹è±¡

å¤§ä½“çš„æ€å’ŒJavaæ˜¯ä¸€æ ·çš„ã€‚

å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹ï¼š

1. åŠ è½½ç±»çš„ä¿¡æ¯
2. åœ¨å†…å­˜å¼€è¾Ÿç©ºé—´
3. ä½¿ç”¨çˆ¶ç±»çš„æ„é€ å™¨å¼€å§‹åˆå§‹åŒ–
4. ä½¿ç”¨ä¸»/è¾…åŠ©æ„é€ å™¨ä¸ºå±æ€§åˆå§‹åŒ–
5. å°†æ­¤å¯¹è±¡çš„åœ°å€èµ‹å€¼ç»™å˜é‡

#### æ–¹æ³•

Scalaç±»çš„æ–¹æ³•å°±æ˜¯å‡½æ•°ï¼Œå…¶åˆ›å»ºç­‰å†…å®¹å’Œå‡½æ•°æ˜¯ä¸€æ ·çš„ã€‚

#### æ„é€ å™¨

Scalaçš„æ„é€ å™¨å’ŒJavaä¸€æ ·æ„é€ å¯¹è±¡çš„é€‚åˆéœ€è¦è°ƒç”¨æ„é€ æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥æœ‰å¤šä¸ªæ„é€ æ–¹æ³•ï¼Œä½†æ˜¯åœ¨å†™æ³•å’Œé€»è¾‘ä¸Šæœ‰ä¸€å®šçš„åŒºåˆ«ï¼ŒScalaçš„æ„é€ å™¨åˆ†ä¸ºä¸»æ„é€ å™¨å’Œè¾…åŠ©æ„é€ å™¨ã€‚

##### ä¸»æ„é€ å™¨

ä¸»æ„é€ å™¨ç›´æ¥æ”¾åœ¨ç±»ååé¢ï¼Œå¦‚æœéœ€è¦è®¾ç½®ä¸ºç§æœ‰ï¼Œå¯ä»¥æ·»åŠ privateï¼Œä¸»æ„é€ å™¨ä¼šæ‰§è¡Œç±»ä¸­æ‰€æœ‰çš„è¯­å¥ï¼Œå³æ„é€ å™¨ä¹Ÿæ˜¯å‡½æ•°ã€‚æ²¡æœ‰å‚æ•°çš„ä¸»æ„é€ å™¨å¯ä»¥çœç•¥()

```scala
class Dog(){
    ......
}

class Dog(str:String){
    ......
}

class Dog private(){
    ......
}
```

##### è¾…åŠ©æ„é€ å™¨ğŸ“

è¾…åŠ©æ„é€ å™¨çš„åç§°å°±æ˜¯thisï¼Œéƒ½ä¼šç›´æ¥æˆ–è€…é—´æ¥è°ƒç”¨ä¸»æ„é€ å™¨ï¼Œthis()éœ€è¦æ”¾åœ¨ç¬¬ä¸€è¡Œã€‚

```scala
def this(name:String){
    this()
    .......
}
```

#### å±æ€§

Scalaç±»ä¸­çš„ä¸»æ„é€ å™¨çš„å½¢å‚æ²¡æœ‰ä½¿ç”¨ä»»ä½•ä¿®é¥°ç¬¦ï¼Œé‚£ä¹ˆè¿™ä¸ªå½¢å‚å°±æ˜¯å±€éƒ¨å˜é‡ï¼Œå®ä¾‹åŒ–å¯¹è±¡æ— æ³•è®¿é—®åˆ°çš„ã€‚

å¦‚æœä½¿ç”¨val ä¿®é¥°ï¼Œè¿™ä¸ªå½¢å‚å°±æ˜¯ç±»çš„ç§æœ‰çš„åªè¯»å±æ€§ï¼Œè€Œç”¨varä¿®é¥°åˆ™æ˜¯ç§æœ‰çš„å¯è¯»å¯å†™çš„å±æ€§ã€‚

```scala
object ClassDemo {

  def main(args: Array[String]): Unit = {
    val dog = new Dog("tom")
    dog.DogName
    dog.name
  }

  class Dog(val name: String) {
    var DogName = name
  }
}
```

æ³¨æ„ï¼šç»™æŸä¸ªå±æ€§æ·»åŠ @BeanPropertyä¼šè‡ªåŠ¨ç”Ÿäº§get/setæ–¹æ³•ã€‚

```scala
  class Cat{
    @BeanProperty
    var catName:String=""
  }
```

### åŒ…

Scalaå’ŒJavaçš„åŒ…ç®¡ç†æ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯å…¶æ›´åŠ å¤æ‚ã€‚

æºæ–‡ä»¶å’ŒæŒ‡å®šåŒ…è·¯å¾„å¯ä»¥ä¸åŒ¹é…ï¼Œç¼–è¯‘åä¼šæŒ‰ç…§æºæ–‡ä»¶çš„åŒ…è·¯å¾„å­˜æ”¾ã€‚

```scala
// com.fanling
package com.fanling{
    // ä¸€ä¸ªæºæ–‡ä»¶å¤šä¸ªpackage
    // com.fanling.demo1
	package demo1{
    
	}
	// com.fanling.demo2
    package demo2{
    
	}
}
```

#### åŒ…å¯¹è±¡

```scala
package com.fanling {
    
  package object scala {
    var name = "fanl"
  }
    
  package scala {
    class App {
      def main(args: Array[String]): Unit = {
        val m = new My
        m.test()
      }
    }
    class My {
      def test(): Unit = {
        println(name)
      }
    }
  }
}

```

æ³¨æ„äº‹é¡¹ï¼š

1. åŒ…å¯¹è±¡éœ€è¦åœ¨çˆ¶ç±»åŒ…ä¸­å®šä¹‰
2. privateä¿®é¥°åŒ…å¯¹è±¡ï¼Œåªèƒ½åœ¨ç±»å†…éƒ¨å’Œä¼´ç”Ÿå¯¹è±¡ä¸­ä½¿ç”¨
3. protected ä¿®é¥°çš„åªèƒ½å­ç±»ä¸­ä½¿ç”¨
4. å¯ä»¥å®šä¹‰è®¿é—®èŒƒå›´ï¼Œå¦‚ `private[com] val name=â€œnameâ€`

#### åŒ…çš„å¼•å…¥ğŸ“

1. åŒ…çš„å¼•å…¥å¯ä»¥å‡ºç°åœ¨ä»»ä½•åœ°æ–¹ï¼Œç¼©å°åŒ…çš„ä½œç”¨èŒƒå›´ï¼Œæé«˜æ•ˆç‡
2. æ‰€æœ‰çš„åŒ…çš„é€šé…ç¬¦æ˜¯`_`
3. å¯ä»¥ç”¨é€‰æ‹©å™¨é€‰æ‹©å¼•å…¥çš„ç±»ï¼Œå¦‚`import scala.collection.mutable.{HashMap,HashSet}`
4. å¯ä»¥é‡å‘½åå¼•ç”¨çš„ç±»ï¼Œé˜²æ­¢å‡ºç°æ­§ä¹‰ï¼Œå¦‚`import java.util.{HashMap=>JavaHashMap,List}`
5. ä¸æƒ³ä½¿ç”¨æŸä¸ªç±»ï¼Œå¯ä»¥éšè—æ‰ï¼Œå¦‚`import java.util.{HashMap=>_,_}`

### é¢å‘å¯¹è±¡çš„ç‰¹å¾

#### å°è£…

å°è£…å°±æ˜¯æŠ½è±¡çš„æ•°æ®å’Œå¯¹æ•°æ®çš„æ“ä½œå°è£…åœ¨ä¸€èµ·ï¼Œæ•°æ®è¢«ä¿æŠ¤åœ¨å†…éƒ¨ï¼Œåªèƒ½é€šè¿‡è¢«æˆæƒçš„æ“ä½œæ‰èƒ½å¯¹æ•°æ®è¿›è¡Œè®¿é—®ã€‚

#### ç»§æ‰¿

å’ŒJavaä¸€æ ·æ˜¯å•ç»§æ‰¿ï¼Œé‡å†™éœ€è¦ç”¨`override`ï¼Œè°ƒç”¨è¶…ç±»æ–¹æ³•éœ€è¦ç”¨`super`

##### ç±»å‹æ£€æŸ¥å’Œè½¬æ¢

è¦æµ‹è¯•æŸä¸ªå¯¹è±¡æ˜¯å¦å±äºæŸä¸ªç»™å®šçš„ç±»ï¼Œå¯ä»¥ç”¨`isInstanceOf[]`æ–¹æ³•ï¼Œ`asInstanceOf[]`æ–¹æ³•å°†å¼•ç”¨è½¬æ¢ä¸ºå­ç±»çš„å¼•ç”¨ï¼Œç”¨`classOf[]`è·å–å¯¹è±¡çš„ç±»åã€‚

##### è¶…ç±»çš„æ„é€ 

åªæœ‰å­ç±»çš„ä¸»æ„é€ å™¨æ‰èƒ½è°ƒç”¨çˆ¶ç±»çš„æ„é€ å™¨ã€‚

##### è¦†å†™å­—æ®µ

Scalaä¸­å¯ä»¥é€šè¿‡ä½¿ç”¨`override`è¦†å†™çˆ¶ç±»çš„å­—æ®µï¼Œè¿™å’ŒJavaä¸­æ˜¯ä¸åŒçš„ã€‚

##### æŠ½è±¡ç±»

åœ¨Scalaä¸­ï¼Œé€šè¿‡abstractå…³é”®å­—æ ‡è®°æŠ½è±¡ç±»ï¼Œæ–¹æ³•ä¸ç”¨æ ‡è®°ï¼Œåªè¦çœç•¥æ–¹æ³•ä½“å³å¯ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼ŒæŠ½è±¡ç±»æ˜¯ä¸èƒ½å®ä¾‹åŒ–çš„ï¼Œä½†æ˜¯ä½ é€šè¿‡å®ä¾‹åŒ–ï¼Œå…¶å®å°±æ˜¯å®ç°è¯¥å®ç°ä¸­çš„æ‰€æœ‰æŠ½è±¡æ–¹æ³•ï¼ŒæŠ½è±¡ç±»å¯ä»¥æ²¡æœ‰æŠ½è±¡æ–¹æ³•ï¼ŒæŠ½è±¡æ–¹æ³•ä¸èƒ½æœ‰æ–¹æ³•ä¸»ä½“ï¼Œä¸èƒ½ç”¨abstractä¿®é¥°ï¼Œä¸€ä¸ªç±»ç»§æ‰¿äº†æŠ½è±¡ç±»ï¼Œåˆ™éœ€è¦å®ç°æ‰€æœ‰çš„æŠ½è±¡æ–¹æ³•ã€‚

##### åŒ¿åå­ç±»

å’ŒJavaä¸­ç±»ä¼¼ï¼Œè¯­æ³•æ–¹å¼ä¸åŒã€‚

```scala
object Dog {
  def main(args: Array[String]): Unit = {
    val dog=new Dog {
      override def say(): Unit = {
        println("å“‡å“‡å“‡å“‡")
      }
    }
    dog.say()
  }
}

abstract class Dog{
  def say();
}
```

#### å¤šæ€

```scala
  def testWork(employee: Employee): Unit = {
    if (employee.isInstanceOf[Manager]) {
      employee.asInstanceOf[Manager].manager()
    } else if (employee.isInstanceOf[Worker]) {
      employee.asInstanceOf[Worker].work
    }
  }
```

## é«˜çº§ç¯‡

### é™æ€å±æ€§å’Œé™æ€æ–¹æ³•

#### ä¼´ç”Ÿå¯¹è±¡å’Œä¼´ç”Ÿç±»

å½“åœ¨åŒä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œæœ‰ `class ScalaPerson` å’Œ `object ScalaPerson`ï¼Œ`class ScalaPerson` ç§°ä¸ºä¼´ç”Ÿç±»,å°†éé™æ€çš„å†…å®¹å†™åˆ°è¯¥ç±»ä¸­ï¼Œ`object ScalaPerson` ç§°ä¸ºä¼´ç”Ÿå¯¹è±¡,å°†é™æ€çš„å†…å®¹å†™å…¥åˆ°è¯¥å¯¹è±¡ï¼ˆç±»ï¼‰

 `class ScalaPerson` ç¼–è¯‘ååº•å±‚ç”Ÿæˆ `ScalaPerson`ç±» `ScalaPerson.class`

 `object ScalaPerson` ç¼–è¯‘ååº•å±‚ç”Ÿæˆ `ScalaPerson$`ç±» `ScalaPerson$.class`

æ³¨æ„ç‚¹ï¼š

1. ä¼´ç”Ÿå¯¹è±¡ä¸­å£°æ˜çš„å…¨æ˜¯ "é™æ€"å†…å®¹ï¼Œå¯ä»¥é€šè¿‡ä¼´ç”Ÿå¯¹è±¡åç§°ç›´æ¥è°ƒç”¨ã€‚

2. å¦‚æœ class A ç‹¬ç«‹å­˜åœ¨ï¼Œé‚£ä¹ˆAå°±æ˜¯ä¸€ä¸ªç±»ï¼Œ å¦‚æœ object A ç‹¬ç«‹å­˜åœ¨ï¼Œé‚£ä¹ˆAå°±æ˜¯ä¸€ä¸ª"é™æ€"æ€§è´¨çš„å¯¹è±¡[å³ç±»å¯¹è±¡]

#### ç”¨Applyåˆ›å»ºå¯¹è±¡

```scala
class Pig(name: String) {
  @BeanProperty
  var pName = name
}

object Pig {
  def apply(name: String): Pig = new Pig(name)

  def apply(): Pig = new Pig("å°ç»„")
}


object TestObject {
  def main(args: Array[String]): Unit = {
    val p = Pig()
    println(p.getPName)
  }
}
```

### Traitç‰¹è´¨

Scalaæ˜¯çº¯é¢å‘å¯¹è±¡çš„è¯­è¨€ï¼Œåœ¨Scalaä¸­ï¼Œæ²¡æœ‰æ¥å£ï¼Œå¤šä¸ªç±»å…·æœ‰ç›¸åŒçš„ç‰¹å¾ï¼ˆç‰¹å¾ï¼‰æ—¶ï¼Œå°±å¯ä»¥å°†è¿™ä¸ªç‰¹è´¨ï¼ˆç‰¹å¾ï¼‰ç‹¬ç«‹å‡ºæ¥ï¼Œé‡‡ç”¨å…³é”®å­—traitå£°æ˜ï¼Œç†è§£trait ç­‰ä»·äºï¼ˆinterface + abstract classï¼‰ï¼ŒJavaä¸­çš„æ¥å£å¯ä»¥å½“åšç‰¹è´¨ä½¿ç”¨ã€‚

ç‰¹è´¨ä¸­å¯ä»¥å®šä¹‰å…·ä½“å­—æ®µï¼Œå¦‚æœåˆå§‹åŒ–äº†å°±æ˜¯å…·ä½“å­—æ®µï¼Œå¦‚æœä¸åˆå§‹åŒ–å°±æ˜¯æŠ½è±¡å­—æ®µï¼Œæœªè¢«åˆå§‹åŒ–çš„å­—æ®µåœ¨å…·ä½“çš„å­ç±»ä¸­å¿…é¡»è¢«é‡å†™ã€‚

ç‰¹è´¨å¯ä»¥ç»§æ‰¿ç±»ï¼Œä»¥ç”¨æ¥æ‹“å±•è¯¥ç‰¹è´¨çš„ä¸€äº›åŠŸèƒ½ã€‚

```scala
trait TraitTest {
  def getConnect()
}

// ç”¨extendså…³é”®å­—ï¼Œå¤šä¸ªç‰¹è´¨ç”¨withè¿æ¥
class Connect extends TraitTest {
  override def getConnect(): Unit = {
    println("å‘µå‘µ")
  }
}
```

##### åŠ¨æ€æ··å…¥

åŠ¨æ€æ··å…¥å¯ä»¥åœ¨ä¸å½±å“åŸæœ‰çš„ç»§æ‰¿å…³ç³»çš„åŸºç¡€ä¸Šï¼Œç»™æŒ‡å®šçš„ç±»æ‰©å±•åŠŸèƒ½ã€‚

```scala
trait Operate {
  def insert(): Unit ={
    println("insert")
  }
}


class OracleDB {

}

abstract class MySQLDB {
  def scan()
}

object TestObject {
  def main(args: Array[String]): Unit = {
    val mySQL = new MySQLDB with Operate {
      override def scan(): Unit = {
        println("scan")
      }

      override def insert(): Unit = {
        println("insert2")
      }
    }
    mySQL.insert()
    mySQL.scan()

    val oracle = new OracleDB with Operate
    oracle.insert()
  }
}
```

**é—®é¢˜**ï¼šScalaåˆ›å»ºå¯¹è±¡æ˜¯æ–¹å¼æœ‰å“ªäº›ï¼Ÿ

1. new å¯¹è±¡
2. åŒ¿åå­ç±»
3. ç‰¹è´¨çš„åŠ¨æ€æ··å…¥
4. ä¼´ç”Ÿå¯¹è±¡çš„applyæ–¹æ³•

##### å åŠ ç‰¹è´¨

æ„å»ºå¯¹è±¡çš„åŒæ—¶å¦‚æœæ··å…¥å¤šä¸ªç‰¹è´¨ï¼Œç§°ä¹‹ä¸ºå åŠ ç‰¹è´¨ï¼Œå£°æ˜ä»å·¦åˆ°å³ï¼Œå®ç°ä»å³åˆ°å·¦ã€‚

##### å¯Œæ¥å£

å³è¯¥ç‰¹è´¨ä¸­æ—¢**æœ‰æŠ½è±¡æ–¹æ³•**ï¼Œåˆæœ‰**éæŠ½è±¡æ–¹**æ³•ã€‚

##### è‡ªèº«ç±»å‹

```scala
this: Exception =>
```

### åµŒå¥—ç±»

ï¼ˆ1ï¼‰ä½¿ç”¨å†…éƒ¨ç±»å’Œé™æ€å†…éƒ¨ç±»

```scala
class MyDog {
  class MyInnerDog{}
}
object MyDog{
  class MyStaticInnerClass{}
}

object Test01 {
  def main(args: Array[String]): Unit = {
    val myDog1:MyDog=new MyDog
    val myDog2:MyDog=new MyDog
    //å†…éƒ¨ç±»
    val inner01=new myDog1.MyInnerDog
    //å†…éƒ¨é™æ€ç±»
    val inner02=new outclass.MyDog.MyStaticInnerClass
  }
}
```

ï¼ˆ2ï¼‰åœ¨å†…éƒ¨ç±»ä¸­å®ç°è°ƒç”¨å¤–éƒ¨ç±»çš„å±æ€§

```scala
class MyCat {
  //åˆ«å
  myouter =>
  var name = "cat"

  class MyInnerCat {
    def info: Unit = {
      println("name=" + myouter.name)
    }
  }

}
//æµ‹è¯•ç±»
val mycat01 = new MyCat
val myInnerCat = new mycat01.MyInnerCat
myInnerCat.info
```

ï¼ˆ3ï¼‰ç±»å‹æŠ•å½±ï¼ˆå¤–éƒ¨ç±»è°ƒç”¨å†…éƒ¨ç±»ï¼‰

```scala
//è°ƒç”¨å†…éƒ¨ç±»
def ic(myInnerCat: MyCat#MyInnerCat): Unit = {
  println(myInnerCat.age)
}

val mycat01 = new MyCat
val myInnerCat = new mycat01.MyInnerCat
mycat01.ic(myInnerCat)
```

### éšå¼è½¬æ¢â­

#### éšå¼å‡½æ•°

éšå¼è½¬æ¢å‡½æ•°æ˜¯ä»¥`implicit`å…³é”®å­—å£°æ˜çš„å¸¦æœ‰å•ä¸ªå‚æ•°çš„å‡½æ•°ã€‚è¿™ç§å‡½æ•°å°†ä¼šè‡ªåŠ¨åº”ç”¨ï¼Œå°†å€¼ä»ä¸€ç§ç±»å‹è½¬æ¢ä¸ºå¦ä¸€ç§ç±»å‹ã€‚

```scala
  def main(args: Array[String]): Unit = {
    implicit def f1(d: Double): Int = {
      d.toInt
    }

    val num: Int = 3.5
    println(num)
  }
}
```

#### éšå¼å€¼

éšå¼å€¼ä¹Ÿå«éšå¼å˜é‡ï¼Œå°†æŸä¸ªå½¢å‚å˜é‡æ ‡è®°ä¸ºimplicitï¼Œæ‰€ä»¥ç¼–è¯‘å™¨ä¼šåœ¨æ–¹æ³•çœç•¥éšå¼å‚æ•°çš„æƒ…å†µä¸‹å»æœç´¢ä½œç”¨åŸŸå†…çš„éšå¼å€¼ä½œä¸ºç¼ºçœå‚æ•°ã€‚

```scala
object Demo2 {
  def main(args: Array[String]): Unit = {
    implicit val name = "jack"

    def info(implicit n: String = "tom"): Unit = {
      println(n)
    }
    info
  }
}
```

#### éšå¼ç±»

å¯ä»¥ä½¿ç”¨`implicit`å£°æ˜ç±»ï¼Œéšå¼ç±»çš„éå¸¸å¼ºå¤§ï¼ŒåŒæ ·å¯ä»¥æ‰©å±•ç±»çš„åŠŸèƒ½ï¼Œå†™æ³•å¯ä»¥å‚è€ƒéšå¼å‡½æ•°ã€‚

1. å…¶æ‰€å¸¦çš„æ„é€ å‚æ•°æœ‰ä¸”åªèƒ½æœ‰ä¸€ä¸ª
2. éšå¼ç±»å¿…é¡»è¢«å®šä¹‰åœ¨ç±»ï¼Œä¼´ç”Ÿå¯¹è±¡å’ŒåŒ…å¯¹è±¡é‡Œ
3. éšå¼ç±»ä¸èƒ½æ˜¯case classï¼ˆcase classåœ¨å®šä¹‰ä¼šè‡ªåŠ¨ç”Ÿæˆä¼´ç”Ÿå¯¹è±¡ä¸2çŸ›ç›¾ï¼‰
4. ä½œç”¨åŸŸå†…ä¸èƒ½æœ‰ä¸ä¹‹ç›¸åŒåç§°çš„æ ‡ç¤ºç¬¦

## æ³›å‹

å¦‚æœæˆ‘ä»¬è¦æ±‚å‡½æ•°çš„å‚æ•°å¯ä»¥æ¥å—ä»»æ„ç±»å‹ã€‚å¯ä»¥ä½¿ç”¨æ³›å‹ã€‚

```scala
object Demo07 {
  def main(args: Array[String]): Unit = {
    val msg1 = new Message[String]("12")
    println(msg1.f)

    val msg2 = new Message[Int](12)
    println(msg2.f)
  }
}

class Message[T](n: T) {
  def f = n
}
```

### ä¸Šç•Œ

åœ¨ Scala é‡Œè¡¨ç¤ºæŸä¸ªç±»å‹æ˜¯ A ç±»å‹çš„å­ç±»å‹ï¼Œä¹Ÿç§°ä¸Šç•Œæˆ–ä¸Šé™ï¼Œä½¿ç”¨ `<:` å…³é”®å­—ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š

`[T <: A]`æˆ–ç”¨é€šé…ç¬¦ï¼š`[_ <: A]`

å¯¹äºä¸‹ç•Œï¼Œå¯ä»¥ä¼ å…¥ä»»æ„ç±»å‹ã€‚

### ä¸‹ç•Œ

åœ¨ scala çš„ä¸‹ç•Œæˆ–ä¸‹é™ï¼Œä½¿ç”¨ `>:` å…³é”®å­—ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š

`[T >: A]`æˆ–ç”¨é€šé…ç¬¦ï¼š`[_ >: A]`

### åå˜ã€é€†å˜ã€ä¸å˜

Scalaçš„åå˜(+)ï¼Œé€†å˜(-)ï¼Œåå˜covariantã€é€†å˜contravariantã€ä¸å¯å˜invariant

å¯¹äºä¸€ä¸ªå¸¦ç±»å‹å‚æ•°çš„ç±»å‹ï¼Œæ¯”å¦‚ List[T]ï¼Œå¦‚æœå¯¹AåŠå…¶å­ç±»å‹Bï¼Œæ»¡è¶³ List[B]ä¹Ÿç¬¦åˆList[A]çš„å­ç±»å‹ï¼Œé‚£ä¹ˆå°±ç§°ä¸ºcovariance(åå˜) ï¼Œå¦‚æœ List[A]æ˜¯ List[B]çš„å­ç±»å‹ï¼Œå³ä¸åŸæ¥çš„çˆ¶å­å…³ç³»æ­£ç›¸åï¼Œåˆ™ç§°ä¸ºcontravariance(é€†å˜)ã€‚å¦‚æœä¸€ä¸ªç±»å‹æ”¯æŒåå˜æˆ–é€†å˜ï¼Œåˆ™ç§°è¿™ä¸ªç±»å‹ä¸ºvariance(ç¿»è¯‘ä¸ºå¯å˜çš„æˆ–å˜å‹)ï¼Œå¦åˆ™ç§°ä¸ºinvariance(ä¸å¯å˜çš„)